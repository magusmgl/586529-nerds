var button = document.querySelector(".write-us"),
    popup = document.querySelector(".modal-feedback"),
    close = popup.querySelector(".modal-close"),
    username = popup.querySelector(".username"),
    email = popup.querySelector(".email"),
    form = popup.querySelector(".feedback-form"),
    isStorageSupport = !0,
    storage = "";
try { storage = localStorage.getItem("username") } catch (e) { isStorageSupport = !1 }
button.addEventListener("click", function(e) { e.preventDefault(), popup.classList.add("modal-show"), storage ? (username.value = storage, email.focus()) : username.focus() }), form.addEventListener("submit", function(e) { e.preventDefault(), username.value ? isStorageSupport && localStorage.setItem("username", username.value) : e.preventDefault() }), close.addEventListener("click", function(e) { e.preventDefault(), popup.classList.remove("modal-show") }), window.addEventListener("keydown", function(e) { 27 === e.keyCode && (e.preventDefault(), popup.classList.contains("modal-show") && popup.classList.remove("modal-show")) });